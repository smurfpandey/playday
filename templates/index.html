<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>{{title}}</title>
    <link href="/static/dist/main.css" rel="stylesheet">
</head>

<body class="min-h-screen bg-gray-900">
    <div class="py-16">
        <div class="container mx-auto p-5">
            <section class="text-white">
                <div class="container mx-auto flex px-5 py-6 items-center justify-center flex-col">
                    <div class="text-center lg:w-2/3 w-full">
                        <h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium	 text-white font-mono">
                            Playday </h1>
                        <p class="leading-relaxed mb-8 font-normal">
                            Welcome {{user.name}}!.
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <div class="content">
                    <div class="flex items-center justify-between w-full my-4 pl-4 sm:pr-4 text-white">
                        <div class="mr-6">
                            <h2
                                class="text-3xl md:text-4xl font-semibold tracking-tight leading-7 md:leading-10 mb-1 truncate">
                                Manage My Games</h2>
                            <div class="font-base tracking-tight text-gray-600">Lorem ipsum is placeholder text commonly
                                used in
                                the graphic, print, and publishing industries for previewing layouts and visual mockups.
                            </div>
                        </div>
                        <div class="flex items-center">
                            <button id="btnShowModalAddGame"
                                class="bg-gray-900 px-5 py-2 text-sm shadow-sm font-semibold tracking-wider text-white rounded-full hover:bg-gray-800">Add
                                Game</button>
                        </div>
                    </div>
                    <div class="grid mt-8  gap-8 grid-cols-1 md:grid-cols-2 xl:grid-cols-2">

                    </div>
                </div>
            </section>
        </div>
    </div>
    {% raw %}
    <div id="dvModalAddGame"
        class="modal transition-opacity duration-300 pointer-events-none fixed w-full h-full top-0 left-0 bg-smoke-light flex items-center justify-center hidden">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>
        <div class="modal-container bg-white w-11/12 md:max-w-5xl mx-auto rounded shadow-lg z-50 overflow-y-auto">

            <div id="searchGamesApp" class="modal-content py-4 text-left px-6">
                <svg style="position: absolute; width: 0; height: 0; overflow: hidden" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs>
                        <symbol id="icon-calendar" viewBox="0 0 26 28" class="text-gray-700">
                            <path
                                d="M2 26h4.5v-4.5h-4.5v4.5zM7.5 26h5v-4.5h-5v4.5zM2 20.5h4.5v-5h-4.5v5zM7.5 20.5h5v-5h-5v5zM2 14.5h4.5v-4.5h-4.5v4.5zM13.5 26h5v-4.5h-5v4.5zM7.5 14.5h5v-4.5h-5v4.5zM19.5 26h4.5v-4.5h-4.5v4.5zM13.5 20.5h5v-5h-5v5zM8 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM19.5 20.5h4.5v-5h-4.5v5zM13.5 14.5h5v-4.5h-5v4.5zM19.5 14.5h4.5v-4.5h-4.5v4.5zM20 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM26 6v20c0 1.094-0.906 2-2 2h-22c-1.094 0-2-0.906-2-2v-20c0-1.094 0.906-2 2-2h2v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h6v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h2c1.094 0 2 0.906 2 2z">
                            </path>
                        </symbol>
                        <symbol id="icon-calendar-check-o" viewBox="0 0 26 28" class="text-green-700">
                            <path
                                d="M20.359 15.062l-8 8c-0.203 0.187-0.516 0.187-0.719 0l-4.5-4.5c-0.187-0.203-0.187-0.516 0-0.703l0.719-0.719c0.187-0.187 0.5-0.187 0.703 0l3.437 3.437 6.937-6.937c0.203-0.187 0.516-0.187 0.703 0l0.719 0.719c0.187 0.187 0.187 0.5 0 0.703zM2 26h22v-16h-22v16zM8 7v-4.5c0-0.281-0.219-0.5-0.5-0.5h-1c-0.281 0-0.5 0.219-0.5 0.5v4.5c0 0.281 0.219 0.5 0.5 0.5h1c0.281 0 0.5-0.219 0.5-0.5zM20 7v-4.5c0-0.281-0.219-0.5-0.5-0.5h-1c-0.281 0-0.5 0.219-0.5 0.5v4.5c0 0.281 0.219 0.5 0.5 0.5h1c0.281 0 0.5-0.219 0.5-0.5zM26 6v20c0 1.094-0.906 2-2 2h-22c-1.094 0-2-0.906-2-2v-20c0-1.094 0.906-2 2-2h2v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h6v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h2c1.094 0 2 0.906 2 2z">
                                <title>Access to this calendar is authorised</title>
                            </path>
                        </symbol>
                        <symbol id="icon-calendar-times-o" viewBox="0 0 26 28" class="text-red-700">
                            <path
                                d="M17.359 21.641l-0.719 0.719c-0.187 0.187-0.5 0.187-0.703 0l-2.938-2.953-2.938 2.953c-0.203 0.187-0.516 0.187-0.703 0l-0.719-0.719c-0.187-0.187-0.187-0.5 0-0.703l2.953-2.938-2.953-2.938c-0.187-0.203-0.187-0.516 0-0.703l0.719-0.719c0.187-0.187 0.5-0.187 0.703 0l2.938 2.938 2.938-2.938c0.203-0.187 0.516-0.187 0.703 0l0.719 0.719c0.187 0.187 0.187 0.5 0 0.703l-2.938 2.938 2.938 2.938c0.187 0.203 0.187 0.516 0 0.703zM2 26h22v-16h-22v16zM8 7v-4.5c0-0.281-0.219-0.5-0.5-0.5h-1c-0.281 0-0.5 0.219-0.5 0.5v4.5c0 0.281 0.219 0.5 0.5 0.5h1c0.281 0 0.5-0.219 0.5-0.5zM20 7v-4.5c0-0.281-0.219-0.5-0.5-0.5h-1c-0.281 0-0.5 0.219-0.5 0.5v4.5c0 0.281 0.219 0.5 0.5 0.5h1c0.281 0 0.5-0.219 0.5-0.5zM26 6v20c0 1.094-0.906 2-2 2h-22c-1.094 0-2-0.906-2-2v-20c0-1.094 0.906-2 2-2h2v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h6v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h2c1.094 0 2 0.906 2 2z">
                                <title>Access to this calendar is not authorised</title>
                            </path>
                        </symbol>
                        <symbol id="icon-loading" viewBox="0 0 32 32" class="text-black">
                            <path
                                d="M16 0c-8.711 0-15.796 6.961-15.995 15.624 0.185-7.558 5.932-13.624 12.995-13.624 7.18 0 13 6.268 13 14 0 1.657 1.343 3 3 3s3-1.343 3-3c0-8.837-7.163-16-16-16zM16 32c8.711 0 15.796-6.961 15.995-15.624-0.185 7.558-5.932 13.624-12.995 13.624-7.18 0-13-6.268-13-14 0-1.657-1.343-3-3-3s-3 1.343-3 3c0 8.837 7.163 16 16 16z">
                            </path>
                        </symbol>
                    </defs>
                </svg>
                <!--Title-->
                <div class="flex justify-between items-center pb-3">
                    <p class="text-2xl font-bold">Add Game!</p>
                    <div class="modal-close cursor-pointer z-50" v-on:click="closeModal">
                        <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                            viewBox="0 0 18 18">
                            <path
                                d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
                            </path>
                        </svg>
                    </div>
                </div>

                <!--Body-->
                <div class="flex flex-col mb-4">
                    <div
                        class="mt-6 bg-transparent border rounded-md dark:border-gray-700 focus-within:ring ring-primary focus-within:border-teal-500 ring-opacity-40">
                        <div class="flex flex-wrap justify-between md:flex-row">
                            <input id="txtSearchGames" v-on:keyup.enter="search" v-model="keyword" type="text" name="query"
                                placeholder="Search Components" required="required"
                                class="flex-1 px-4 h-10 lg:h-12 m-1 text-gray-700 placeholder-gray-400 bg-transparent border-none appearance-none dark:text-gray-200 focus:outline-none focus:placeholder-transparent focus:ring-0">
                            <button id="btnSearchGames" v-on:click="search" v-show="keyword.length > 0" v-bind:disabled="isSearching"
                                v-bind:class="{'cursor-not-allowed': isSearching}"
                                class="flex justify-center items-center w-full lg:w-12 lg:h-12 p-2 lg:p-0 m-1 text-white transition-colors duration-200 transform rounded-md bg-green-600 hover:bg-green-700 focus:outline-none focus:bg-green-700">
                                <svg v-bind:class="{hidden: isSearching}" class="icon-search w-6 h-6"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                                <svg v-bind:class="{hidden: !isSearching}"
                                    class="icon-loader animate-spin h-5 w-5 text-white"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                        stroke-width="2"></circle>
                                    <path class="opacity-75" fill="currentColor"
                                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                    </path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="searchResult" class="flex flex-col mb-4 overflow-y-auto h-80">
                    <div class="grid mt-8  gap-8 grid-cols-1 md:grid-cols-2 xl:grid-cols-2">
                        <div v-for="game in games" class="flex flex-col">
                            <div class="bg-white shadow-md  rounded-3xl p-4">
                                <div class="flex-none lg:flex">
                                    <div class=" h-full w-full lg:h-48 lg:w-36 lg:mb-0 mb-3">
                                        <img v-if="game.cover"
                                            v-bind:src="'https://images.igdb.com/igdb/image/upload/t_cover_big/' + game.cover.image_id + '.jpg'"
                                            alt="Just a flower"
                                            class="w-full object-scale-down lg:object-cover  lg:h-48 rounded-2xl">
                                    </div>
                                    <div class="flex-auto ml-3 justify-evenly py-2">
                                        <div class="flex flex-wrap ">
                                            <div class="w-full flex-none text-xs text-blue-700 font-medium ">
                                                Shop
                                            </div>
                                            <h2 class="flex-auto text-lg font-medium">{{ game.name }}</h2>
                                        </div>
                                        <p class="mt-3"></p>
                                        <div class="flex py-4  text-sm text-gray-600">
                                            <div class="flex-1 inline-flex items-center">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                                                  </svg>
                                                <p class="">{{ game.id }}</p>
                                            </div>
                                            <div class="flex-1 inline-flex items-center">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none"
                                                    viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round"
                                                        stroke-width="2"
                                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                </svg>
                                                <p class="">{{ $filters.epochToHuman(game.first_release_date) }}</p>
                                            </div>
                                        </div>
                                        <div class="flex p-4 pb-2 border-t border-gray-200 "></div>
                                        <div class="flex space-x-3 text-sm font-medium">
                                            <div class="flex-auto flex space-x-3">
                                                <div v-if="game.total_rating"
                                                    class="mb-2 md:mb-0 bg-white px-5 py-2 shadow-sm tracking-wider border text-gray-600 rounded-full inline-flex items-center space-x-2 ">
                                                    <span class="text-green-400 rounded-lg">
                                                        <svg aria-hidden="true" focusable="false"
                                                            xmlns="http://www.w3.org/2000/svg" class="h-6 w-6"
                                                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                stroke-width="2"
                                                                d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                                                        </svg>
                                                    </span>
                                                    <span>{{ parseInt(game.total_rating, 10) }}</span>
                                                </div>
                                            </div>
                                            <button v-if="!isGameSelected(game.id)" v-on:click="selectGame(game)"
                                                class="btnSelectGame mb-2 md:mb-0 bg-gray-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-gray-800"
                                                type="button" aria-label="like">Select</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Footer-->
                <div class="flex flex-col text-center">
                    <div id="dvSelectedGamesToAdd" class="flex flex-wrap">
                        <div v-for="game in selectedGames" class="inline-flex rounded-md overflow-hidden mb-4 mr-4 selected-game">
                            <span
                                class="block text-white text-sm shadow-border bg-blue-400 text-sm py-2 px-3 font-sans tracking-wide uppercase font-bold">
                                {{ game.name }}
                            </span>
                            <div class="bg-blue-400 hover:bg-blue-500 rounded-r-md cursor-pointer p-2">
                                <div class="w-4 h-4">
                                    <button class="remove-selected" v-on:click="nukeSelf(game.id)">
                                        <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                            viewBox="0 0 18 18">
                                            <path
                                                d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
                                            </path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="font-medium tracking-wide text-xs text-left float-right mb-1 ml-1">
                        <span id="spFormError" class="text-red-500"></span>
                    </div>
                    <button v-show="selectedGames.length > 0" v-on:click="addToWishlist()" v-bind:disabled="isSaving"
                        v-bind:class="{'cursor-not-allowed': isSaving}"
                        class="inline-flex items-center justify-center border border-transparent font-medium bg-gray-800 text-white hover:bg-gray-900 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full"
                        type="button" style="transition: all 0.15s ease 0s;">
                        <svg v-bind:class="{hidden: !isSaving}" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                            </circle>
                            <path class="opacity-75" fill="currentColor"
                                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                            </path>
                        </svg>
                        Save
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% endraw %}
    <script src="/static/dist/bundle.js"></script>
</body>

</html>
